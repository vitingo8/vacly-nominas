# ğŸ“‹ GuÃ­a de Uso - Sistema de Procesamiento de NÃ³minas con IA

## ğŸ¯ Â¿QuÃ© hace esta aplicaciÃ³n?

Esta aplicaciÃ³n procesa documentos de nÃ³minas en PDF utilizando inteligencia artificial para extraer y organizar automÃ¡ticamente toda la informaciÃ³n laboral. Puedes elegir entre **dos modos de procesamiento** segÃºn tus necesidades y presupuesto.

## âš™ï¸ **PASO 1: ConfiguraciÃ³n del Sistema de Procesamiento**

### ğŸ”§ **Elige tu modo de procesamiento**

Antes de empezar, debes seleccionar el tipo de procesamiento que mejor se adapte a tus necesidades:

#### **ğŸ†“ Procesamiento BÃ¡sico (GRATUITO)**
- âœ… **QuÃ© incluye**: Procesamiento con Claude AI, extracciÃ³n de datos, exportaciÃ³n a Excel
- âŒ **Limitaciones**: Sin memoria empresarial, cada documento se procesa desde cero
- â±ï¸ **Tiempo**: 20-30 segundos por documento
- ğŸ’° **Costo**: Solo el costo de Claude AI (sin costos adicionales)
- ğŸ¯ **Ideal para**: Uso ocasional, menos de 50 nÃ³minas al mes

#### **â­ Memoria Empresarial (PREMIUM)**
- âœ… **Todo lo del bÃ¡sico +**: Sistema de memoria inteligente, bÃºsqueda semÃ¡ntica, aprendizaje automÃ¡tico
- ğŸš€ **Ventajas**: PrecisiÃ³n mejorada (90-95%), procesamiento mÃ¡s rÃ¡pido con el tiempo
- â±ï¸ **Tiempo**: 5-10 segundos por documento (mejora con el uso)
- ğŸ’° **Costo**: ~$0.10 por 1000 documentos procesados (muy econÃ³mico)
- ğŸ¯ **Ideal para**: Uso regular, mÃ¡s de 100 nÃ³minas al mes, mÃºltiples empresas

### ğŸ“Š **CÃ³mo cambiar de modo**
- **UbicaciÃ³n**: Panel superior de la aplicaciÃ³n "âš™ï¸ ConfiguraciÃ³n del Sistema de Procesamiento"
- **Cambio**: Haz clic en la tarjeta del modo que prefieras
- **Efecto inmediato**: El cambio se aplica instantÃ¡neamente a todos los procesamientos futuros

## ğŸš€ CÃ³mo usar la aplicaciÃ³n paso a paso

### 2. **Cargar documentos PDF**
   - **AcciÃ³n**: Haz clic en "Seleccionar archivos" o arrastra tus PDFs a la zona de carga
   - **QuÃ© acepta**: Archivos PDF de nÃ³minas (pueden tener mÃºltiples pÃ¡ginas)
   - **Resultado**: Cada pÃ¡gina se convierte en un documento individual
   - **VisualizaciÃ³n**: VerÃ¡s una lista con todos los documentos separados

### 3. **Revisar documentos separados** 
   - **Panel izquierdo**: Lista de todos los documentos creados
   - **Cada documento muestra**:
     - ğŸ“„ Nombre del archivo original
     - ğŸ“‘ NÃºmero de pÃ¡gina
     - ğŸ‘ï¸ BotÃ³n para ver contenido
     - ğŸ§  BotÃ³n para procesar con IA
   - **Acciones disponibles**:
     - **"Ver"**: Abre el visor para revisar el documento
     - **"Procesar"**: EnvÃ­a el documento a la IA para extraer datos

### 4. **Procesar con Inteligencia Artificial**
   - **AcciÃ³n**: Haz clic en el botÃ³n ğŸ§  "Procesar con IA"
   - **QuÃ© sucede segÃºn tu modo**:
     
     **ğŸ†“ Modo BÃ¡sico:**
     - Se analiza el texto de la nÃ³mina
     - Se extraen automÃ¡ticamente todos los datos laborales
     - Se guarda la informaciÃ³n en la base de datos
     - â±ï¸ Tiempo: 20-30 segundos
     
     **â­ Modo Memoria Empresarial:**
     - Se analiza el texto de la nÃ³mina
     - Se consulta la **memoria empresarial** para mejorar la precisiÃ³n
     - Se extraen automÃ¡ticamente todos los datos laborales
     - Se guarda la informaciÃ³n en la base de datos
     - Se **actualiza la memoria** con nuevos patrones aprendidos
     - â±ï¸ Tiempo: 5-10 segundos (mejora con el uso)
   
   - **Resultado**: Documento marcado como âœ… procesado

### 5. **Revisar informaciÃ³n extraÃ­da**
   - **Panel derecho**: Muestra los datos procesados en formato organizado
   - **InformaciÃ³n extraÃ­da**:
     - ğŸ‘¤ **Datos del empleado**: Nombre, DNI, nÃºmero de afiliaciÃ³n, etc.
     - ğŸ¢ **Datos de la empresa**: Nombre, CIF, direcciÃ³n, etc.
     - ğŸ’° **Percepciones**: Salario base, complementos, horas extra, etc.
     - ğŸ“‰ **Deducciones**: IRPF, Seguridad Social, etc.
     - ğŸ¦ **Datos bancarios**: IBAN, cÃ³digo SWIFT
     - ğŸ“… **PerÃ­odo**: Fechas de inicio y fin del perÃ­odo de nÃ³mina

## ğŸ§  Sistema de Memoria Empresarial

### Â¿QuÃ© es la memoria empresarial?
La aplicaciÃ³n **aprende automÃ¡ticamente** de cada documento procesado para mejorar la precisiÃ³n en procesamientos futuros. Esto incluye:

- **Patrones de la empresa**: Estructura tÃ­pica de nÃ³minas, conceptos habituales
- **InformaciÃ³n especÃ­fica**: CÃ³digos de percepciones y deducciones mÃ¡s frecuentes
- **TerminologÃ­a**: Palabras clave relevantes para la empresa
- **Documentos similares**: BÃºsqueda semÃ¡ntica de nÃ³minas parecidas ya procesadas

### Panel de memoria (parte inferior)
- **ğŸ“Š Estado de la Memoria Empresarial**: Dashboard completo que muestra cÃ³mo el sistema aprende de tus documentos

#### ğŸ” Â¿QuÃ© ves en el panel de memoria?

**1. Patrones Aprendidos** ğŸ§ 
- **QuÃ© es**: La IA reconoce la estructura especÃ­fica de las nÃ³minas de tu empresa
- **Para quÃ© sirve**: Cada vez que proceses una nÃ³mina similar, serÃ¡ mÃ¡s rÃ¡pido y preciso
- **PrecisiÃ³n**: Porcentaje que indica quÃ© tan bien conoce tu formato de nÃ³minas

**2. Textos Indexados** ğŸ“š  
- **QuÃ© es**: Fragmentos de texto guardados para buscar documentos similares
- **Para quÃ© sirve**: Cuando llegue una nÃ³mina nueva, busca automÃ¡ticamente otras parecidas ya procesadas
- **Ventaja**: Reutiliza conocimiento de documentos anteriores

**3. Documentos Procesados** ğŸ“‹
- **QuÃ© es**: Contador total de nÃ³minas que has procesado exitosamente  
- **Para quÃ© sirve**: Cada documento enseÃ±a algo nuevo al sistema
- **Resultado**: MÃ¡s documentos = mejor rendimiento futuro

**4. ReutilizaciÃ³n** â™»ï¸
- **QuÃ© es**: CuÃ¡ntas veces el sistema ha usado patrones aprendidos anteriormente
- **Para quÃ© sirve**: Indica que la memoria estÃ¡ funcionando y ahorrando tiempo
- **Beneficio**: Procesamientos mÃ¡s rÃ¡pidos y consistentes

#### ğŸ¯ Secciones del conocimiento empresarial

**Conocimiento de tu Empresa** ğŸ§ 
- **Patrones especÃ­ficos**: Muestra quÃ© ha aprendido de tus nÃ³minas (estructura, tÃ©rminos, formatos)
- **Palabras clave**: TÃ©rminos especÃ­ficos que aparecen frecuentemente en tus documentos
- **Nivel de confianza**: QuÃ© tan seguro estÃ¡ el sistema de cada patrÃ³n aprendido
- **Uso**: CuÃ¡ntas veces se ha aplicado cada patrÃ³n

**Actividad Reciente** ğŸ“ˆ  
- **Historial**: Ãšltimos documentos procesados con su estado
- **Estados posibles**:
  - âœ… **Aprendido**: Procesado exitosamente, enseÃ±Ã³ algo nuevo al sistema
  - â³ **Procesando**: Documento en anÃ¡lisis
  - âŒ **Error**: Hubo un problema, no se aprendiÃ³ nada
- **Beneficio**: Ves el progreso del aprendizaje automÃ¡tico

## ğŸ“¥ ExportaciÃ³n de datos

### Exportar a Excel
- **AcciÃ³n**: Haz clic en "Exportar todo a Excel"
- **QuÃ© incluye**:
  - **Hoja "Resumen"**: Vista general de todas las nÃ³minas
  - **Hoja "Percepciones"**: Detalle de todos los ingresos
  - **Hoja "Deducciones"**: Detalle de todos los descuentos
- **Formato**: Archivo Excel (.xlsx) listo para contabilidad

### Procesar mÃºltiples documentos
- **AcciÃ³n**: Haz clic en "Procesar todo con IA"
- **FunciÃ³n**: Procesa automÃ¡ticamente todos los documentos pendientes
- **RecomendaciÃ³n**: Ideal cuando tienes muchas nÃ³minas del mismo perÃ­odo

## âš ï¸ Mensajes del sistema

### Estados de los documentos:
- **ğŸ”„ Sin procesar**: Documento cargado pero no analizado
- **âœ… Procesado**: Datos extraÃ­dos y guardados correctamente
- **âŒ Error**: Problema durante el procesamiento
- **ğŸ§  Procesando**: IA analizando el documento (espera unos segundos)

### Panel de memoria:
- **ğŸŸ¢ Memoria activa**: Sistema funcionando con IA avanzada
- **ğŸ”´ Sin memoria**: Solo procesamiento bÃ¡sico (falta configuraciÃ³n)
- **ğŸ“Š EstadÃ­sticas**: InformaciÃ³n sobre la base de conocimiento

## ğŸ”§ Requisitos tÃ©cnicos

Para que funcione completamente, la aplicaciÃ³n necesita:
- **âœ… Voyage AI**: Para el sistema de memoria avanzada (obligatorio)
- **âœ… Claude (Anthropic)**: Para el procesamiento de texto
- **âœ… Supabase**: Para almacenar datos y memoria

## ğŸ’¡ Consejos de uso

1. **Primera vez**: Los primeros documentos tardan mÃ¡s en procesarse, pero la precisiÃ³n mejora rÃ¡pidamente
2. **Documentos similares**: NÃ³minas de la misma empresa se procesan cada vez mÃ¡s rÃ¡pido y precisas
3. **RevisiÃ³n manual**: Siempre revisa los datos extraÃ­dos antes de usarlos en contabilidad
4. **ExportaciÃ³n regular**: Exporta a Excel periÃ³dicamente para tener backups
5. **Formato de PDFs**: Funciona mejor con PDFs de texto (no escaneados)

## ğŸ†˜ SoluciÃ³n de problemas

### Error "Voyage AI not configured"
- **Problema**: Falta la configuraciÃ³n de memoria avanzada
- **SoluciÃ³n**: Contacta con el administrador para configurar las variables de entorno

### Error "Failed to process nomina"
- **Causa comÃºn**: PDF con texto no legible o formato inusual
- **SoluciÃ³n**: Verifica que el PDF contiene texto seleccionable

### Memoria no funciona
- **SÃ­ntomas**: No se muestran estadÃ­sticas de memoria
- **Causa**: ConfiguraciÃ³n de variables de entorno incompleta
- **Estado**: Solo funcionarÃ¡ el procesamiento bÃ¡sico

---

## ğŸ“§ Soporte

Si tienes problemas o dudas sobre el uso de la aplicaciÃ³n, revisa los mensajes de error en pantalla o contacta con el equipo tÃ©cnico.

**Â¡La aplicaciÃ³n mejora automÃ¡ticamente cuanto mÃ¡s la uses!** ğŸš€ 